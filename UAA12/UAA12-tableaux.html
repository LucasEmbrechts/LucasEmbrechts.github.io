<!DOCTYPE html>
<html>
  <head>
    <title>Title</title>
    <meta charset="utf-8">
    <style>
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Droid Serif'; }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: normal;
      }
      .remark-code, .remark-inline-code { font-family: 'Consolas'; }
			  @page {
		  size: 1210px 681px;
		  margin: 0;
		}

		@media print {
		  .remark-slide-scaler {
			width: 100% !important;
			height: 100% !important;
			transform: scale(1) !important;
			top: 0 !important;
			left: 0 !important;
		  }
		}
    small{
      font-size: 10px!important;
    }
    </style>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
  </head>
  <body>
    <textarea id="source">

class: center, middle

# Développement d’un site web dynamique :
# les tableaux
<img height="200px" src="img/php.png">

---
## On parle de quoi ?
1. <a href="UAA12-tableaux.html#3">Tableaux : concepts</a>
2. <a href="UAA12-tableaux.html#8">Tableaux multidimentionnels</a>
3. <a href="UAA12-tableaux.html#9">Décomposition de valeurs</a>
4. <a href="UAA12-tableaux.html#10">Fonction renvoyant plusieurs valeurs</a>
5. <a href="UAA12-tableaux.html#11">Parcours d'un tableau</a>

---
## Tableaux : concepts

En PHP, les tableaux sont des tableaux associatifs (clé → valeur).

**Le cas classique : tableaux à index numérique.**

(clé)     (valeur)

0     →   Homer

1     →   Bart

2     →   Lisa

3     →   Marge
---
## Tableaux : concepts

En PHP, les tableaux sont des tableaux associatifs (clé → valeur).

**Autre cas : tableaux à index non numérique.**

(clé)     (valeur)

père    →   Homer

fils    →   Bart

fille   →   Lisa

mère    →   Marge
---
## Tableaux : concepts

Les tableaux peuvent avoir pour clefs :

* des entiers

```PHP
$famille = ['Homer', 'Bart', 'Lisa', 'Marge'];
// syntaxe alternative :
$famille = array('Homer', 'Bart', 'Lisa', 'Marge');

$h = $famille[0];  // 'Homer'
$b = $famille[1];  // 'Bart'
$l = $famille[2];  // 'Lisa'
$m = $famille[3];  // 'Marge'
```
---
## Tableaux : concepts

Les tableaux peuvent avoir pour clefs :

* des chaines de caractères

```php
$famille = array(
  'père' => 'Homer',
  'fils' => 'Bart',
  'fille' => 'Lisa',
  'mère' => 'Marge'
);

$h = $famille['père'];   // 'Homer'
$b = $famille['fils'];   // 'Bart'
$l = $famille['fille'];  // 'Lisa'
$m = $famille['mère'];   // 'Marge'
```
---
## Tableaux : concepts

* Création d'un tableau vide :

```PHP
// Syntaxe 1 :
$famille = [];

// Syntaxe 2 :
$famille = array();
```

* Ecriture dans la case suivante :

```PHP
// pour les tableaux à index numérique :
array_push($famille, 'Maggie');

// pour les tableaux à index non numérique :
$famille['fille2'] = 'Maggie';
```
---
## Tableaux multidimensionnels

On peut aussi créer des tableaux 3D, 4D, ...

```PHP
$familles = array(
  'Simpson' => array(
    'père' => 'Homer',
    'mère' => 'Marge',
    'fils' => 'Bart',
    'fille' => 'Lisa'
  ),
  'Van Houten' => array(
    'père' => 'Kirk',
    'mère' => 'Luann'
  )
);
```

Exemple : nous souhaitons connaitre la mère de la famille Van Houten :

```PHP
$pèreVH = $familles['Van Houten']['père'];
```
---
## Décomposition de valeurs

On peut "extraire" certaines valeurs d'un tableau et les stocker dans des variables :

→ mot clé `list`

```php
$familles = array('Simpson','Van Houten','Flanders');
list($fam1,$fam2) = $familles;
// $fam1 contient 'Simpson' et $fam2 contient 'Van Houten'
```

---
## Fonction renvoyant plusieurs valeurs

En PHP, une fonction peut renvoyer plusieurs valeurs.

→ il s'agit d'une fonction qui **renvoie un tableau**

→ <span style="color: red;"> un seul return !</span>

```php
function calculerOps($n){
  $ops = [];
  array_push($ops, $n + $n);
  array_push($ops, $n - $n);
  array_push($ops, $n * $n);
  array_push($ops, $n / $n);
  return $ops;
}

$nb = 5;
list($add, $sous, $mult, $div) = calculerOps($nb);

echo "$nb + $nb = $add\n";
echo "$nb - $nb = $sous\n";
echo "$nb * $nb = $mult\n";
echo "$nb / $nb = $div\n";
```
---
## Parcours d'un tableau

### À index numérique

→ utilisation de `for` pour itérer

→ utilisation de `count` pour obtenir la taille du tableau

```php
$familles = ['Simpson', 'Van Houten', 'Flanders'];
for($i = 0 ; $i < count($familles) ; $i++){
  echo "$i -> $familles[$i]\n";
}
```
---
## Parcours d'un tableau

### À index numérique / non numérique

→ utilisation de `foreach` pour itérer


```php
$famille = array(
  'père' => 'Homer',
  'fils' => 'Bart',
  'fille' => 'Lisa',
  'mère' => 'Marge'
);

foreach($famille as $role => $prenom){
  echo "$prenom dans le role du / de la $role\n";
}

```

    </textarea>
    <script src="https://remarkjs.com/downloads/remark-latest.min.js">
    </script>
    <script>
      var slideshow = remark.create();
    </script>
  </body>
</html>