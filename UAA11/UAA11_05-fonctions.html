<!DOCTYPE html>
<html>
  <head>
    <title>Title</title>
    <meta charset="utf-8">
    <style>
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Droid Serif'; }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: normal;
      }
      .remark-code, .remark-inline-code { font-family: 'Consolas';}
      p{font-size: 20px;}
      @media print {
		  .remark-slide-scaler {
			width: 100% !important;
			height: 100% !important;
			transform: scale(1) !important;
			top: 0 !important;
			left: 0 !important;
		  }
		}
    </style>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
  </head>
  <body>
    <textarea id="source">

class: center, middle

# Programmation procÃ©durale :
# les fonctions
<img height="200px" src="img/logo.png">
---

## On parle de quoi ?

1. <a href="UAA11-ch5.html#3">Qu'est ce qu'une fonction ?</a>
2. <a href="UAA11-ch5.html#4">Prototype d'une fonction</a>
3. <a href="UAA11-ch5.html#5">ImplÃ©mentation d'une fonction</a>
4. <a href="UAA11-ch5.html#6">Variable locale</a>
5. <a href="UAA11-ch5.html#7">Appel d'une fonction</a>
6. <a href="UAA11-ch5.html#8">Vue d'ensemble</a>
7. <a href="UAA11-ch5.html#9">Fonction et condition</a>
8. <a href="UAA11-ch5.html#11">Passage par copie</a>
9. <a href="UAA11-ch5.html#13">RÃ©cursivitÃ©</a>



---

## Qu'est-ce qu'une fonction ?

Une **fonction** est un ensemble d'instructions rÃ©alisant une **certaine tÃ¢che**.

â†’ elles permettent de dÃ©couper le programme en **modules**.

Tout programme bien Ã©crit est modularisÃ© :

```da
â”Œâ”€â”€â”€ * Prix d'entrÃ©e
â”‚ Obtenir dateNaissance
â”‚ Obtenir statut
â”‚ 
â”‚ oâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€o â†“ dateNaissance, statut
â”‚ â”‚ calculerPrix â”‚
â”‚ oâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€o â†“ prix
â”‚ 
â”‚ Sortir prix
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```
---
## Prototype d'une fonction

Le **prototype** d'une fonction (ou signature) est une sorte de **"contrat"** passÃ© entre le programmeur qui Ã©crit la fonction et celui qui l'utilise.

Prototyper une fonction c'est dÃ©finir :

* son **nom** : l'identifiant unique de la fonction
* ses **entrÃ©es** : les arguments que doit recevoir la fonction pour Ãªtre utilisÃ©e
* sa **sortie** : ce que la fonction va renvoyer (mot-clÃ© `return`) comme rÃ©sultat

Exemple : quelles sont les entrÃ©es et quelle est la sortie des fonctions suivantes ?

```c
void direBonjour(void);
void calculerPrix(int age, char statut);
int calculerSomme(int tabEntiers[], int taille);
float obtenirReel(void);
```
---
## ImplÃ©mentation d'une fonction

L'**implÃ©mentation** d'une fonction consiste Ã  Ã©crire (coder) son contenu en respectant son prototype (contrat).

Exemple :

```c
void direBonjour(void){
  printf("Bonjour !");
}

int calculerSomme(int tabEntiers[], int taille){
  int somme = 0;
  for(int i = 0; i < taille; i++){
    somme += tabEntiers[i];
  }
  return somme;
}

float obtenirReel(void){
  return 1.2;
}
```
---
## Variable locale

Une ** variable locale** est une variable dÃ©finie Ã  l'intÃ©rieur d'un bloc (fonction , rÃ©pÃ©titive, etc.).

â†’ un emplacement dans la mÃ©moire est allouÃ© Ã  chaque passage dans le bloc

â†’ cet emplacement est libÃ©rÃ© quand le bloc est terminÃ©

Exemple :

```c
for(int i = 0; i < 10; i++){
  // ici, la variable i existe
}
// ici, la variable i n'existe pas
```

Question : quel sera l'affichage ?

```c
int i = 50;
for(int i = 0; i < 10; i++){
  printf("%d", i);
}
printf("%d", i);
```

---
## Appel d'une fonction

L'**appel** consiste Ã  utiliser une fonction quelque part dans le code.

â†’ une mÃªme fonction peut Ãªtre appelÃ©e plusieurs fois, c'est justement Ã§a l'objectif !

Pour appeler une fonction il faut :

* renseigner son nom (rappel : il est unique)
* fournir des arguments en respectant le contrat (prototype)

Exemple :

```c
void main(void){
  int mesNombres[] = {5,7,5,6,4,7};

  // deux entrÃ©es et une sortie
  int somme = calculerSomme(mesNombres, 6);

  // une sortie mais pas d'entrÃ©e
  float monReel = obtenirReel();

  // pas d'entrÃ©e et pas de sortie
  direBonjour();
}
```
---
## Vue d'ensemble

```c
int calculerSomme(int tab, taille);

void main(void){
  int mesNombres[] = {5,7,5,6,4,7};

  int somme = calculerSomme(mesNombres, 6);
}

int calculerSomme(int tabEntiers[], int int taille){
  int somme = 0;
  for(int i = 0; i < taille; i++){
    somme += tabEntiers[i];
  }
  return somme;
}

```
---
## Fonction et condition

Il est possible de simplifier le code suivant. Comment ?

```c
bool estUnOperateur(char op){
  bool test = false;
  switch(op){
    case '+' :
      test = true;
      break;
    case '-' :
      test = true;
      break;
    case '*' :
      test = true;
      break;
    case '/' :
      test = true;
      break;
  }
  return test;
}

```
---
## Fonction et condition

Code simplifiÃ© :

```c
bool estUnOperateur(char op){
  return (op == '+' || op == '-' || op == '*' || op == '/');
}

```

Utilisation :

```c
char operateur;
printf("Entrez un operateur\n");
operateur = getchar();
while(!estUnOperateur(operateur)){
  printf("Veuillez entrer un operateur valide !\n");
  operateur = getchar();
}
```

---
## Passage par copie

En C, le passage d'une variable contenant un type primitif en argument d'une fonction se fait **toujours par copie**.

â†’ <span style="color:red">lors de l'appel de la fonction, une copie des arguments est passÃ© Ã  la fonction</span>
---
## Passage par copie
```c
void ajouteDix(int n);

void main (void){
  int monEntier = 10;
  ajouteDix(monEntier);
  printf("%d", monEntier); // monEntier = 10
}

void ajouteDix(int n){
  n = n + 10;
}
```
<img width="500px" src="img/copie_passage.png">

---
## Passage par copie
Comment faire pour rÃ©ellement modifier l'entier ?
```c
int ajouteDix(int n);

void main (void){
  int monEntier = 10;
  monEntier = ajouteDix(monEntier);
  printf("%d", monEntier); // monEntier = 20
}

int ajouteDix(int n){
  return n + 10;
}
```
<img width="500px" src="img/copie_passage2.png">
---
## RÃ©cursivitÃ© ðŸ¤¯

Une **fonction rÃ©cursive** est une fonction qui s'appelle elle-mÃªme.

Le but ? Simplifier le code.

â†’ <span style="color:red">une fonction rÃ©cursive contient toujours une condition d'arrÃªt !</span>

```c
int factorielle(int n);

void main (void){
  int n;
  scanf_s("%d", &n);
  while (n < 0){
    scanf_s("%d", &n);
  }
  printf("%d", factorielle(n));
}

int factorielle(int n){
  return (n == 0) ? 1 : n * factorielle(n-1);
}

```

    </textarea>
    <script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/FitText.js/1.2.0/jquery.fittext.min.js"></script>
    <script>
      var slideshow = remark.create();
    </script>
  </body>
</html>